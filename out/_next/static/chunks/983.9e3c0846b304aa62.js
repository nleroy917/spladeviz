(()=>{var e={983:(e,t,r)=>{"use strict";var o=r(9911);function l(e,t,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=arguments.length>4?arguments[4]:void 0,n=null!=l?l:e.length-o,a=o+n,i=[];for(let t=o;t<a;t++)e[t]>0&&i.push([t,e[t]]);return i.sort((e,t)=>t[1]-e[1]),i.slice(0,t).map(e=>{let[t,l]=e;return{word:r(t-o),weight:l}})}o._K2.allowLocalModels=!1;let n=null,a=null,i="",s=0;function c(e){self.postMessage(e)}async function p(e,t,r){i=e;let l=!1,p=e=>{var t,r,o,n,a;l=!0,c({type:"MODEL_LOADING_PROGRESS",file:null!=(t=e.file)?t:"",progress:null!=(r=e.progress)?r:0,loaded:null!=(o=e.loaded)?o:0,total:null!=(n=e.total)?n:0,status:null!=(a=e.status)?a:"",fromCache:!1})};try{var u,d;n=await o.v6I.from_pretrained(e,{progress_callback:p}),a=await o.wju.from_pretrained(e,{dtype:t,device:r,progress_callback:p});let i=null!=(d=n.vocab)?d:null==(u=n.get_vocab)?void 0:u.call(n);s=i?Object.keys(i).length:30522,c({type:"MODEL_LOADED",modelId:e,fromCache:!l,vocabSize:s})}catch(t){c({type:"MODEL_ERROR",message:t instanceof Error?t.message:String(t),modelId:e})}}async function u(e,t,r){if(!n||!a)return void c({type:"INFERENCE_ERROR",message:"Model not loaded"});c({type:"INFERENCE_RUNNING"});try{let o=await n(e,{truncation:!0,max_length:512}),s=(await a(o)).logits,[,p,u]=s.dims,d=s.data,f=new Float32Array(d.length);for(let e=0;e<d.length;e++)f[e]=d[e]>0?Math.log1p(d[e]):0;for(let e=0;e<p;e++)!function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0,l=null!=o?o:e.length-r,n=r+l;if(t>=l)return;let a=[];for(let t=r;t<n;t++)e[t]>0&&a.push([t,e[t]]);if(a.length<=t)return;a.sort((e,t)=>t[1]-e[1]);let i=a[t-1][1],s=0;for(let o=r;o<n;o++)e[o]>i||e[o]===i&&s<t?s++:e[o]=0}(f,t,e*u,u);let y=new Float32Array(u);for(let e=0;e<p;e++)for(let t=0;t<u;t++){let r=f[e*u+t];r>y[t]&&(y[t]=r)}let g=o.input_ids.data,h=[];for(let e=0;e<p;e++){let t=Number(g[e]),r=n.decode([t],{skip_special_tokens:!1}).trim(),o=r.startsWith("[")||r.startsWith("<")||""===r||0===t||101===t||102===t||1===t||2===t;h.push({token:r||"[".concat(t,"]"),tokenId:t,isSpecial:o})}let v=e=>{try{return n.decode([e],{skip_special_tokens:!1}).trim()||"[".concat(e,"]")}catch(t){return"[".concat(e,"]")}},b=[];for(let e=0;e<p;e++){let r=l(f,t,v,e*u,u);b.push(r)}let m=l(y,r,v);c({type:"INFERENCE_RESULT",modelId:i,tokens:h,tokenDistributions:b,sparseVector:m})}catch(e){c({type:"INFERENCE_ERROR",message:e instanceof Error?e.message:String(e)})}}self.addEventListener("message",e=>{let t=e.data;"LOAD_MODEL"===t.type?p(t.modelId,t.dtype,t.device):"RUN_INFERENCE"===t.type&&u(t.text,t.topK,t.topM)})}},t={};function r(o){var l=t[o];if(void 0!==l)return l.exports;var n=t[o]={exports:{}},a=!0;try{e[o](n,n.exports,r),a=!1}finally{a&&delete t[o]}return n.exports}r.m=e,r.x=()=>{var e=r.O(void 0,[643,803,668],()=>r(983));return r.O(e)},(()=>{var e=[];r.O=(t,o,l,n)=>{if(o){n=n||0;for(var a=e.length;a>0&&e[a-1][2]>n;a--)e[a]=e[a-1];e[a]=[o,l,n];return}for(var i=1/0,a=0;a<e.length;a++){for(var[o,l,n]=e[a],s=!0,c=0;c<o.length;c++)(!1&n||i>=n)&&Object.keys(r.O).every(e=>r.O[e](o[c]))?o.splice(c--,1):(s=!1,n<i&&(i=n));if(s){e.splice(a--,1);var p=l();void 0!==p&&(t=p)}}return t}})(),r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,o)=>(r.f[o](e,t),t),[])),r.u=e=>"static/chunks/"+(({643:"037f3a08",803:"adda3502"})[e]||e)+"."+({643:"a836797823f96acb",668:"2402e9800355451a",803:"fd86979676f5a5e4"})[e]+".js",r.miniCssF=e=>{},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.U=function(e){var t=new URL(e,"x:/"),r={};for(var o in t)r[o]=t[o];for(var o in r.href=e,r.pathname=e.replace(/[?#].*/,""),r.origin=r.protocol="",r.toString=r.toJSON=()=>e,r)Object.defineProperty(this,o,{enumerable:!0,configurable:!0,value:r[o]})},r.U.prototype=URL.prototype,(()=>{var e;r.tt=()=>(void 0===e&&(e={createScriptURL:e=>e},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(e=trustedTypes.createPolicy("nextjs#bundler",e))),e)})(),r.tu=e=>r.tt().createScriptURL(e),r.p="/_next/",(()=>{var e={983:1};r.f.i=(t,o)=>{e[t]||importScripts(r.tu(r.p+r.u(t)))};var t=self.webpackChunk_N_E=self.webpackChunk_N_E||[],o=t.push.bind(t);t.push=t=>{var[l,n,a]=t;for(var i in n)r.o(n,i)&&(r.m[i]=n[i]);for(a&&a(r);l.length;)e[l.pop()]=1;o(t)}})(),(()=>{var e=r.x;r.x=()=>Promise.all([643,803,668].map(r.e,r)).then(e)})(),_N_E=r.x()})();